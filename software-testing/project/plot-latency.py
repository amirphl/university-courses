import matplotlib.pyplot as plt

data = [
    (0.589, [2.215, 2.215, 2.215, 2.215, 2.215, 2.215, 2.215]),
    (0.998, [0.277, 0.596, 0.6, 0.608, 0.612, 0.612, 0.612]),
    (0.878, [0.0038, 0.235, 0.438, 0.51, 0.518, 0.52, 0.52]),
    (0.999, [0.0153, 0.776, 0.877, 0.948, 0.96, 0.965, 0.965]),
    (0.813, [0.0263, 0.86, 0.914, 0.977, 0.99, 0.99, 0.99]),
    (0.706, [0.257, 0.839, 1.03, 1.3, 1.32, 1.32, 1.32]),
    (0.439, [0.373, 2.15, 2.15, 2.15, 2.15, 2.15, 2.15]),
    (0.999, [0.00204, 0.0077, 0.0093, 0.0142, 0.019, 0.0207, 0.021]),
    (0.998, [0.00208, 0.0083, 0.01, 0.0257, 0.043, 0.045, 0.045]),
    (0.532, [0.0126, 2.15, 2.15, 2.15, 2.15, 2.15, 2.15]),
    (0.997, [0.00247, 0.0253, 0.042, 0.105, 0.118, 0.12, 0.12]),
    (0.522, [1.35, 2.15, 2.15, 2.15, 2.15, 2.15, 2.15]),
    (0.998, [0.24, 0.877, 0.973, 1.04, 1.05, 1.05, 1.05]),
    (0.915, [0.00211, 0.0092, 0.296, 0.373, 0.39, 0.39, 0.392]),
    (0.998, [0.0027, 0.066, 0.093, 0.102, 0.106, 0.107, 0.108]),
    (0.899, [0.00233, 0.0088, 0.0107, 0.0215, 0.3, 0.333, 0.333]),
    (0.199, [0.0087, 0.499, 0.83, 1.17, 1.23, 1.24, 1.24]),
    (0.3, [0.007, 0.505, 0.709, 0.952, 1.01, 1.02, 1.02]),
    (0.372, [0.0102, 2.11, 2.15, 2.15, 2.15, 2.15, 2.15])
]

percentiles = [50.0, 90.0, 95.0, 99.0, 99.9, 99.99, 'W']
colors = ['r', 'g', 'b', 'c', 'm', 'y', 'k', 'orange', 'purple', 'brown', 'pink', 'teal', 'olive', 'navy', 'maroon', 'lime', 'indigo', 'cyan', 'coral', 'darkred']

plt.figure(figsize=(10, 6))

for idx, (rate, latencies) in enumerate(data):
    plt.plot(percentiles, latencies, label=f'{rate} MT/s', color=colors[idx])

plt.title('Latency vs. Percentiles')
plt.xlabel('Percentiles')
plt.ylabel('Latency (ms)')
plt.legend()
plt.grid(True)
plt.show()
